# 第5章 大而快：层次化存储
局部性原理：时间局部性（某个最近访问的数据项可能在不久的将来被再次访问），空间局部性（某个最近访问的数据项地址相邻的数据项可能也很快会被访问）。  
层次化存储对局部性的利用：将最近访问过的数据留在离处理器更近的存储层次中（时间局部性），将包含多个连续字的数据块移动到更上层存储（空间局部性）。

需要关注的参数：命中率（失效率），命中时间，失效损失。

## 存储技术

![现代层次化存储中的几种主要技术](_v_images/20220926152048120_22909.png)

SRAM：通常有一个读写端口，对任意位置的数据访问时间固定，但读写操作的访问时间不同。不需要刷新电路，在待机模式下，只需要最小的功率来保持电荷。今天，所有的高速缓存都集中到了处理器芯片上（不再需要独立的 SRAM 芯片）。  
DRAM：使用电容保存电荷以保存数据。使用单个晶体管来访问、读取、改写电荷。必须进行周期性的刷新（电荷可以保持几微秒）。DRAM 使用两级译码电路，可以使用一个读周期紧跟一个写周期的方式一次性完成整行刷新。行的结构有利于 DRAM 改善性能。DRAM 中缓存行的数据以便重复访问。  
SDRAM：同步 DRAM，添加时钟以消除内存和处理器之间的同步问题。其中速度最快的为双倍数据传输率 DDR SDRAM，使用时钟的上升沿和下降沿进行数据传输。  
闪存：电可擦除的可编程只读存储器 EEPROM。写操作会对器件本身产生磨损。  
磁盘：由盘片组成，使用可移动的转臂读写信息。

## Cache
