# 第五次作业

## 5.2
按照零件编号从小到大，解向量为 $< x_1,x_2,x_3,x_4 >,x_i\in[1,3]$，其中 $x_i=j$ 表示 i 号零件从供应商 j 处取得。  
搜索树中的节点 $< x_1,...,x_k >$ 表示已经决定了前 k 个零件的供应商，准备决定第 k+1 个零件的供应商。  
搜索策略为，在决定第 k 个零件的供应商时，按照价格从小到大搜索。  
约束条件为，在任意一步选择一个零件后总重量不能超过 120。  
最优化目标为，在满足约束条件的前提下，最小化重量。  
具体到这一个题目，最优解为 $<3,1,2,3>$，总重量31，总价格119

## 5.5
按照行数从小到大，解向量为$< x_1,x_2...x_8 >,x_i\in[1,8]$，其中 $x_i=j$ 表示第 i 行的皇后摆放在第 j 列。  
搜索树中的节点 $< x_1,...,x_k >$ 表示已经决定了前 k 行拜访的皇后的位置，准备摆放第 k+1 行的皇后。  
搜索策略为，在决定第 k 行的皇后位置时，从左到右依次查询每一个位置是否与之前的皇后冲突，如果不冲突则可以摆放。  
约束条件为，在任意行摆放时，不能与之前行的皇后处于同一列或同一斜线。  
使用广度优先搜索，对于树上的每一个节点，最多能扩展出 8 个子节点，而最多能够扩展 8 层，故最坏时间复杂度为 $O(8^8)$。

## 5.6
将输入的数排序，然后按照从小到大的顺序将其 1 到 n 编号，解向量为 $< x1,x2...,xn >,x_i\in\{0,1\}$，其中 $x_i=0$ 表示不选择第 i 个数，$x_i=1$ 表示选择第 i 个数。  
搜索树中的节点 $< x_1,..x_k >$ 表示已经决定了前 k 个数的选择情况，准备决定第 k+1 个数是否选择。  
搜索策略为，先尝试选择这个数，递归下去，再尝试不选择这个数，递归下去。  
约束条件为，在任意时刻，选择了的数的和不能超过 M；如果恰好等于 M ，则说明找到了一组解，直接输出并回溯。  
代价函数为，$\sum _ {i=1}^k a_ix_i+a_{k+1} \le M$  
使用深度优先搜索，搜索树为一棵二叉树，最多 n 层，故最坏时间复杂度为 $O(2^n)$

## 5.8
(1).将电路板按照输入的顺序编号，解向量为 $< x_1, x_2,...,x_n >,x_i\in[1,n]$ ，其中$x_i=j$表示第 i 个插槽插的是编号为 j 的电路板。要求 $x_i\neq x_j(i\neq j)$。  
搜索树中的节点 $< x_1,...x_k >$ 表示已经决定了前 k 个插槽的电路板，准备决定第 k+1 个插槽的电路板。  
搜索策略为，另计 $y_i$ 表示第 i 个插槽到第 i+1 个插槽之间已经有了多少条导线横跨，决定第 k 个位置的电路板时，不妨设决定放置的电路板编号为 p，查找所有包含电路板 p 的连接，如果这些连接中已经有在前面插槽的，找到距离 k 最近的那个插槽，将之间的所有 y 都加上一。执行到最后一块电路板时，取 $y_i$ 中的最大值即为这一个搜索方案的排列密度。  
使用深度优先搜索，搜索树为一棵排列数，最多 $n$ 层，再考虑到计算 $y_i$ 需要循环遍历，所以最坏时间复杂度为 $O((n+m)n!)$  
对于这个例子，取 $< 4,5,6,3,1,2,7,8 >$ 可以得最优解，最小排列密度为 2。  
(2). 注意到 3 这个电路板在 3 个连接块中出现了，由于我们的问题是在直线上排列，最多只有两个方向，由抽屉原理，至少会有一个方向需要连出去两条线，所以答案下界为 2。再由上知已经构造出排列密度为 2 的解，所以这就是最优解了。
